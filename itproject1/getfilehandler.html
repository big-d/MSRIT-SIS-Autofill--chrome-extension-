

<style>
  #byte_content {
    margin: 5px 0;
    max-height: 100px;
    overflow-y: auto;
    overflow-x: hidden;
  }
  #byte_range { margin-top: 5px; }
</style>

<input type="file" id="files" name="file" /> Done: 
<span class="readBytesButtons">
  
  <button> autofill! </button>
</span>


<div id="byte_range"></div>
<div id="byte_content"></div>

<script src="myscr1.js">

// shifting because embedded scripts are deprecated in chrome extension version 2
/*var marks;
var active=0;
  function readBlob(opt_startByte, opt_stopByte) {

    var files = document.getElementById('files').files;
    if (!files.length) {
      alert('Please select a file!');
      return;
    }

    var file = files[0];
    var start = parseInt(opt_startByte) || 0;
    var stop = parseInt(opt_stopByte) || file.size - 1;

    var reader = new FileReader();

  // If we use onloadend, we need to check the readyState.
    reader.onloadend = function(evt) {
      if (evt.target.readyState == FileReader.DONE) { // DONE == 2
//marks=target.evt.result;       
document.getElementById('byte_content').textContent = evt.target.result;

console.log(evt.target.result+'1');    
   document.getElementById('byte_range').textContent = "These are the contents of the file"
        //['Read bytes: ', start + 1, ' - ', stop + 1,
         //' of ', file.size, ' byte file'].join('');
      }
    };

    var blob = file.slice(start, stop + 1);
    reader.readAsBinaryString(blob);
  }
  
  document.querySelector('.readBytesButtons').addEventListener('click', function(evt) {
    if (evt.target.tagName.toLowerCase() == 'button') {
      var startByte = evt.target.getAttribute('data-startbyte');
      var endByte = evt.target.getAttribute('data-endbyte');
        readBlob(startByte, endByte);}
 
  }, false);
//// figure out a way to get file contents into a string variable

console.log('hope this is working!');
*/
</script>
